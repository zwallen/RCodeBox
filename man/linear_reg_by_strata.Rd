% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/linear_reg_by_strata.R
\name{linear_reg_by_strata}
\alias{linear_reg_by_strata}
\title{Perform linear regression by strata}
\usage{
linear_reg_by_strata(var, strata, data)
}
\arguments{
\item{var}{Character string. The name of the numerical variable in \code{data} to be
tested.}

\item{strata}{Character string. The name of the categorical variable in \code{data}
to stratify by.}

\item{data}{Data frame containing the variables of interest.}
}
\value{
A named list with each strata category as keys, and values containing:
\itemize{
\item \code{n}: Number of observations in category
\item \code{stats}: Summary statistics (mean \if{html}{\out{<c2>}}\if{html}{\out{<b1>}} SD) for category
\item \code{coef}: The estimated beta coefficient with 95\% confidence interval
\item \code{pvalue}: The p-value from linear regression testing
}
}
\description{
Performs linear regression for a numerical variable and a categorical strata
variable, stratifying the analysis by each category of the strata variable. The
function tests a category against all others for each category in turn.
}
\details{
If \code{strata} contains only 2 groups, the resulting coefficient will be the same
for each category, just the inverse of the other. The p-values should be exactly the
same.

The \code{var} variable must be numeric. The \code{strata} variable will be converted
to a factor if it is not already. Rows with missing values in either variable are
automatically removed.
}
\examples{
# Create sample data
set.seed(123)
sample_data <- data.frame(
  numeric_var = rnorm(100, mean = 50, sd = 10),
  strata_var = sample(c("Group1", "Group2", "Group3"), 100, replace = TRUE)
)

# Run linear regression by strata
results <- linear_reg_by_strata("numeric_var", "strata_var", sample_data)
print(results)

}
