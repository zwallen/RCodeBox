% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_stratified_violin_boxplot.R
\name{plot_stratified_violin_boxplot}
\alias{plot_stratified_violin_boxplot}
\title{Create a Stratified Violin Box Plot}
\usage{
plot_stratified_violin_boxplot(data, var, strata, ylab, xlab = NULL)
}
\arguments{
\item{data}{A data.frame containing the variables of interest.}

\item{var}{Character string. The name of the numerical variable in \code{data}
to be plotted on the y-axis.}

\item{strata}{Character string. The name of the categorical variable in \code{data}
to stratify by, displayed on the x-axis.}

\item{ylab}{Character string. The title for the y-axis, describing the numerical
variable.}

\item{xlab}{Character string, optional. The title for the x-axis. If not provided,
it defaults to the name of the \code{strata} variable with underscores replaced
by spaces.}
}
\value{
A ggplot object containing the stratified violin box plot with:
\itemize{
\item Violin box plot showing distribution of \code{var} across \code{strata}
categories as data densities (violin plot) and the median + interquartile
range (box plot)
\item The mean and 95\% confidence interval for each stratum displayed as a red
point range
\item An 'All cases' group for comparison
\item Median values displayed as text labels on the plot
}
}
\description{
Creates a violin box plot showing the distribution of a numerical variable across
different strata, including an 'All cases' comparison group.
}
\details{
Missing values in \code{var} are automatically filtered out before plotting.
An error will occur if no data is left after filtering. The \code{strata} variable
is converted to a factor if it is not already.
}
\examples{
# Create sample data
set.seed(123)
sample_data <- data.frame(
  patient_id = 1:200,
  age = rnorm(200, mean = 45, sd = 15),
  treatment = factor(sample(c("Drug A", "Drug B", "Placebo"), 200, replace = TRUE)),
  hospital = factor(sample(c("Site 1", "Site 2", "Site 3"), 200, replace = TRUE)),
  score = rnorm(200, mean = 75, sd = 20)
)

# Basic usage
p1 <- plot_stratified_violin_boxplot(
  data = sample_data,
  var = "age",
  strata = "treatment",
  ylab = "Patient Age (years)"
)
print(p1)

# With custom x-axis label
p2 <- plot_stratified_violin_boxplot(
  data = sample_data,
  var = "score",
  strata = "hospital",
  ylab = "Test Score",
  xlab = "Study Site"
)
print(p2)

}
